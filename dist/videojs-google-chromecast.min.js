/*! @name videojs-google-chromecast @version 0.0.9 @license UNLICENSED */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js/dist/alt/video.core.novtt.min")):"function"==typeof define&&define.amd?define(["video.js/dist/alt/video.core.novtt.min"],t):(e=e||self).videojsGoogleChromecast=t(e.videojs)}(this,(function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var t=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t};var a=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},i=(e.getComponent("Component"),e.getComponent("ControlBar")),r=e.getComponent("Button"),n="IDLE",s="BUFFERING",o="LOADED",l="PLAYING",d="PAUSED",c=function(i){function r(e,t){var r;return(r=i.call(this,e,t)||this).player=e,r.options=t,r.incrementMediaTimeHandler=r.incrementMediaTime.bind(a(r)),r}t(r,i);var c=r.prototype;return c.initCastPlayer=function(e,t){var a=this;if(this.player=e,this.options=t,this.sources={},this.casting=!1,this.apiSession=null,this.mDNS=!1,this.client={},this.receivers=[],this.choosenDevice=null,this.initPlayerHandler(this),this.playerState=n,this.playerStateBeforeSwitch=null,this.remotePlayer=null,this.remotePlayerController=null,this.currentMediaTime=0,this.mediaDuration=-1,this.mediaInfo={},this.mediaInfoMDNS={},this.tryingReconnect=0,this.searchAttempts=5,this.timePerAttempt=1e3,this.selectedDevice=null,this.hide(),void 0!==t.appId&&""!==t.appId?this.appId=t.appId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID&&(this.appId=chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID),void 0!==t.autoJoinPolicy&&""!==t.autoJoinPolicy?this.autoJoinPolicy=t.autoJoinPolicy:chrome.cast.AutoJoinPolicy.PAGE_SCOPED&&(this.autoJoinPolicy=chrome.cast.AutoJoinPolicy.PAGE_SCOPED),cast.framework.CastContext.getInstance().setOptions({receiverApplicationId:this.appId,autoJoinPolicy:this.autoJoinPolicy}),void 0!==t.searchAttempts&&""!==t.searchAttempts&&(this.searchAttempts=t.searchAttempts),void 0!==t.timePerAttempt&&""!==t.timePerAttempt&&(this.timePerAttempt=t.timePerAttempt),void 0!==this.options.mdns&&this.options.mdns){this.mDNS=!0;var i=require("chromecast-api");this.client=new i,this.container=document.createElement("div"),this.container.setAttribute("class","ReactModalPortal"),this.container.setAttribute("id","containerModal"),this.contentModal='<div id="chromecastModal" class="chromecastModal ReactModal__Overlay ReactModal__Overlay--after-open modal-overlay"><div class="ReactModal__Content ReactModal__Content--after-open modal modal--card-internal" tabIndex="-1" role="dialog"><button id="closeCast" class="button button--close closeCast" type="button"><span class="button__content"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" className="icon icon--X"><g><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></g></svg></span></button><section class="card"><div class="card__header--between"><div class="card__title-section"><div><h2 className="card__title">Cast to...</h2></div></div><div></div></div><div class="card__main-actions">';this.client.on("device",(function(e){void 0!==e&&(a.receivers.push(e),a.contentModal+='<fieldset-section id="'+e.name+'" class="selectCast"><div id="'+e.name+'" class="castFriendlyName">'+e.friendlyName+'</div><div class="castLoader"></div></fieldset-section>')})),this.prepareMediaForCast((function(){})),function e(){!0===a.client.hasFinishLoad?a.receivers.length>0?(a.remotePlayer=new cast.framework.RemotePlayer,a.remotePlayerController=new cast.framework.RemotePlayerController(a.remotePlayer),a.apiInitialized=!0,setTimeout(a.initSearchProcess.bind(a),0)):(a.hide(),setTimeout(a.initSearchProcess.bind(a),a.timePerAttempt)):setTimeout(e,100)}()}else this.remotePlayer=new cast.framework.RemotePlayer,this.remotePlayerController=new cast.framework.RemotePlayerController(this.remotePlayer),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,function(e){this.switchPlayer(e.value)}.bind(this)),this.apiInitialized=!0,this.initializeUI(e),this.setupLocalPlayer()},c.initSearchProcess=function(){e.log("Searching Cast APIs..."),this.tryingReconnect<this.searchAttempts?this.receivers.length<=1?(++this.tryingReconnect,this.setTimeout(this.initSearchProcess,this.timePerAttempt)):(this.contentModal+="</div></section></div></div>",this.container.innerHTML=this.contentModal,this.remotePlayer=new cast.framework.RemotePlayer,this.remotePlayerController=new cast.framework.RemotePlayerController(this.remotePlayer),this.apiInitialized=!0,this.setupLocalPlayer(),this.initializeUI(this.player),this.show()):void 0===this.receivers||this.receivers.length<=0?e.log("Cast APIs not available. Max reconnect attempt"):(this.contentModal+="</div></section></div></div>",this.container.innerHTML=this.contentModal,this.remotePlayer=new cast.framework.RemotePlayer,this.remotePlayerController=new cast.framework.RemotePlayerController(this.remotePlayer),this.apiInitialized=!0,this.setupLocalPlayer(),this.initializeUI(this.player),this.show())},c.initPlayerHandler=function(e){void 0===e&&(e={}),this.playerHandler={},this.playerHandler.target={},this.playerHandler.setTarget=function(t){e.playerHandler.target=t},this.playerHandler.play=function(){e.playerState!==n&&e.playerHandler.target.isMediaLoaded()?(e.playerState=l,e.playerHandler.target.play()):e.playerHandler.load()},this.playerHandler.pause=function(){e.playerState=d,e.playerHandler.target.pause()},this.playerHandler.stop=function(){e.playerState=n,e.playerHandler.target.stop()},this.playerHandler.load=function(){e.playerState=s,e.playerHandler.target.load()},this.playerHandler.isMediaLoaded=function(){return e.playerHandler.target.isMediaLoaded()},this.playerHandler.prepareToPlay=function(){e.mediaDuration=e.playerHandler.getMediaDuration(),e.playerHandler.updateDurationDisplay(),e.playerState=o,e.playerHandler.play(),e.playerHandler.updateDisplay()},this.playerHandler.getCurrentMediaTime=function(){return e.playerHandler.target.getCurrentMediaTime()},this.playerHandler.getMediaDuration=function(){return e.playerHandler.target.getMediaDuration()},this.playerHandler.updateDisplay=function(){e.playerHandler.currentMediaTime=e.playerHandler.target.getCurrentMediaTime(),e.playerHandler.mediaDuration=e.playerHandler.target.getMediaDuration(),e.playerHandler.target.updateDisplay()},this.playerHandler.updateCurrentTimeDisplay=function(){e.playerHandler.target.updateCurrentTimeDisplay()},this.playerHandler.updateDurationDisplay=function(){e.playerHandler.target.updateDurationDisplay()},this.playerHandler.setTimeString=function(t){e.playerHandler.target.setTimeString(t)},this.playerHandler.setVolume=function(t){e.playerHandler.target.setVolume(t)},this.playerHandler.mute=function(){e.playerHandler.target.mute()},this.playerHandler.unMute=function(){e.playerHandler.target.unMute()},this.playerHandler.isMuted=function(){return e.playerHandler.target.isMuted()},this.playerHandler.seekTo=function(t){e.playerHandler.target.seekTo(t)}},c.initializeUI=function(e){void 0!==e.controlBar&&(this.createGoogleButton(),this.mDNS&&this.createCustomButton(),e.controlBar.chromecastButton=this)},c.createGoogleButton=function(){var e=document.getElementsByClassName("vjs-control-bar");if(document.getElementsByClassName("vjs-chromecast-button").length<=0){var t=document.createElement("google-cast-launcher");t.setAttribute("class","vjs-chromecast-button vjs-control vjs-button"),t.setAttribute("type","button"),e.length>0&&e[0].appendChild(t)}},c.createCustomButton=function(){var e=this,t=document.getElementsByClassName("vjs-control-bar");if(document.getElementsByClassName("vjs-chromecast-button-mdns").length<=0){var a=document.createElement("button");if(a.setAttribute("class","vjs-chromecast-button-mdns vjs-control vjs-button"),a.setAttribute("type","button"),a.addEventListener("click",(function(){e.findSources(),e.prepareMediaForCast((function(){document.body.appendChild(e.container),document.getElementById("closeCast").addEventListener("click",e.closeModal),document.getElementById("chromecastModal").addEventListener("click",e.closeModalFromBack);for(var t=document.getElementsByClassName("selectCast"),a=0;a<t.length;a++)t[a].addEventListener("click",e.selectCast.bind(e))}))})),t.length>0)t[0].appendChild(a),document.getElementsByClassName("vjs-chromecast-button-mdns")[0].innerHTML='<svg x="0px" y="0px" width="100%" height="100%" viewBox="0 0 24 24"><g><path id="cast_caf_icon_arch0" class="cast_caf_status_d" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"></path><path id="cast_caf_icon_arch1" class="cast_caf_status_d" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"></path><path id="cast_caf_icon_arch2" class="cast_caf_status_d" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"></path><path id="cast_caf_icon_box" class="cast_caf_status_d" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"></path><path id="cast_caf_icon_boxfill" class="cast_caf_state_h" d="M5,7 L5,8.63 C8,8.6 13.37,14 13.37,17 L19,17 L19,7 Z"></path></g></svg>'}},c.closeModal=function(e){var t=document.getElementById("containerModal"),a=t.cloneNode(!0);t.parentNode.replaceChild(a,t),document.body.removeChild(a)},c.closeModalFromBack=function(e){e.target===document.getElementById("chromecastModal")&&document.body.removeChild(document.getElementById("containerModal"))},c.selectCast=function(t){var a=this,i=t.target.id,r=document.getElementById(i).childNodes;r.length>0&&(r[1].style.opacity=1);for(var n=0;n<this.receivers.length;n++)this.receivers[n].name===i&&(this.selectedDevice=this.receivers[n]);null!=this.selectedDevice&&(this.setupLocalPlayer(),this.playerHandler.pause(),this.selectedDevice.play(this.mediaInfoMDNS,(function(i){i?e.log(i):(r.length>0&&(r[1].style.opacity=0,document.getElementsByClassName("vjs-chromecast-button-mdns")[0].classList.add("connected")),a.playerHandler.load(),a.player_.loadTech_("ChromecastTech",{type:"cast",cast_:a,apiSession:a.apiSession}),a.closeModal(t),a.casting=!0)})))},c.hide=function(){i.prototype.hide.call(this);var e=document.getElementsByClassName("vjs-chromecast-button");e.length>0&&(e[0].style.display="none"),this.mDNS&&(e=document.getElementsByClassName("vjs-chromecast-button-mdns")).length>0&&(e[0].style.display="none")},c.show=function(){i.prototype.show.call(this);var e=null;(e=this.mDNS?document.getElementsByClassName("vjs-chromecast-button-mdns"):document.getElementsByClassName("vjs-chromecast-button")).length>0&&(e[0].style.display="block")},c.buildCSSClass=function(){return this.mDNS?"vjs-chromecast-button-mdns "+i.prototype.buildCSSClass.call(this,this):"vjs-chromecast-button "+i.prototype.buildCSSClass.call(this,this)},c.receiverListener=function(e){if(!this.disposed)return"available"===e?this.show():this.hide()},c.findSources=function(){var e=null;return null===this.player_?void 0!==this.player.cache_&&void 0!==this.player.cache_.source&&(e=this.player.cache_.source):e=this.player_.currentSource(),this.sources=e,this.sources},c.switchPlayer=function(e){this.playerStateBeforeSwitch=this.playerState,e?this.prepareMediaForCast(function(){cast&&cast.framework&&this.remotePlayer.isConnected?(this.playerHandler.pause(),this.setupRemotePlayer()):this.setupLocalPlayer()}.bind(this)):this.prepareMediaForCast(this.setupLocalPlayer.bind(this))},c.setupRemotePlayer=function(){this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED,function(e){var t=cast.framework.CastContext.getInstance().getCurrentSession();if(!t)return this.mediaInfo=null,void this.playerHandler.updateDisplay();var a=t.getMediaSession();if(!a)return this.mediaInfo=null,void this.playerHandler.updateDisplay();this.apiSession=t,this.mediaInfo=a.media,a.playerState===l&&this.playerState!==l&&this.playerHandler.prepareToPlay(),this.playerHandler.updateDisplay()}.bind(this)),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.CAN_SEEK_CHANGED,(function(e){})),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED,function(){this.remotePlayer.isPaused?this.playerHandler.pause():this.playerState!==l&&this.playerHandler.play()}.bind(this)),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,function(){this.remotePlayer.isMuted?this.playerHandler.mute():this.playerHandler.unMute()}.bind(this)),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,function(){var e=this.remotePlayer.volumeLevel;this.player_.setVolume(e)}.bind(this)),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_PLAYING_BREAK_CHANGED,function(e){this.isPlayingBreak(e.value)}.bind(this)),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.WHEN_SKIPPABLE_CHANGED,function(e){this.onWhenSkippableChanged(e.value)}.bind(this)),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.CURRENT_BREAK_CLIP_TIME_CHANGED,function(e){this.onCurrentBreakClipTimeChanged(e.value)}.bind(this)),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.BREAK_CLIP_ID_CHANGED,function(e){this.onBreakClipIdChanged(e.value)}.bind(this)),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.LIVE_SEEKABLE_RANGE_CHANGED,function(t){e.log("LIVE_SEEKABLE_RANGE_CHANGED"),this.liveSeekableRange=t.value}.bind(this));var t={};t.play=function(){this.remotePlayer.isPaused&&(this.remotePlayerController.playOrPause(),this.player_.play())}.bind(this),t.pause=function(){this.remotePlayer.isPaused||(this.remotePlayerController.playOrPause(),this.player_.pause())}.bind(this),t.stop=function(){this.remotePlayerController.stop()}.bind(this),t.load=function(){this.findSources(),this.prepareMediaForCast(function(){e.log("Loading..."+this.mediaInfo.metadata.title);var t=new chrome.cast.media.LoadRequest(this.mediaInfo);t.currentTime=this.currentMediaTime,this.playerStateBeforeSwitch&&this.playerStateBeforeSwitch!==d?t.autoplay=!0:t.autoplay=!1,cast.framework.CastContext.getInstance().getCurrentSession().loadMedia(t).then(function(){this.casting=!0,e.log("Remote media loaded")}.bind(this),function(t){this.playerState=n,e.log("Remote media load error: "+this.getErrorMessage(t)),this.playerHandler.updateDisplay()}.bind(this))}.bind(this))},t.isMediaLoaded=function(){var e=cast.framework.CastContext.getInstance().getCurrentSession();if(!e)return!1;var t=e.getMediaSession();return!!t&&(t.playerState!==n&&(this.apiSession=e,!0))}.bind(this),t.getCurrentMediaTime=function(){return this.remotePlayer.currentTime}.bind(this),t.getMediaDuration=function(){return this.remotePlayer.duration}.bind(this),t.updateDisplay=function(){var e=cast.framework.CastContext.getInstance().getCurrentSession();if(e&&e.getMediaSession()&&e.getMediaSession().media){var t=e.getMediaSession().media;if(t.metadata){var a=t.metadata.title,i=t.metadata.episodeTitle;a=(a=i?a+": "+i:a)?a+" ":"";var r=t.metadata.subtitle;r=r?r+" ":""}}else{this.currentTech.dispose(),this.casting=!1;var n=this.player_.currentTime();this.removeClass("connected"),this.player_.src(this.player_.options_.sources),this.player_.paused()||this.player_.one("seeked",(function(){return this.player_.play()})),this.player_.currentTime(n),this.player_.options_.inactivityTimeout=this.inactivityTimeout}}.bind(this),t.updateCurrentTimeDisplay=function(){this.playerHandler.setTimeString(this.playerHandler.getCurrentMediaTime())}.bind(this),t.updateDurationDisplay=function(){this.playerHandler.setTimeString(this.playerHandler.getMediaDuration())}.bind(this),t.setTimeString=function(e){this.getMediaTimeString(e)}.bind(this),t.setVolume=function(e){var t=this.remotePlayer.volumeLevel;t=e>1?1:e,this.remotePlayer.volumeLevel=t,this.remotePlayerController.setVolumeLevel()}.bind(this),t.mute=function(){this.remotePlayer.isMuted||this.remotePlayerController.muteOrUnmute()}.bind(this),t.unMute=function(){this.remotePlayer.isMuted&&this.remotePlayerController.muteOrUnmute()}.bind(this),t.isMuted=function(){return this.remotePlayer.isMuted}.bind(this),t.seekTo=function(e){this.remotePlayer.currentTime=e,this.remotePlayerController.seek()}.bind(this),this.playerHandler.setTarget(t),this.remotePlayer.isMuted&&this.playerHandler.mute(),this.apiSession=cast.framework.CastContext.getInstance().getCurrentSession(),this.player_.loadTech_("ChromecastTech",{type:"cast",cast_:this,apiSession:this.apiSession}),this.apiSession===cast.framework.SessionState.SESSION_RESUMED?this.playerHandler.prepareToPlay():this.playerHandler.load()},c.setupLocalPlayer=function(){var t={},a=this;t.play=function(){e.log("local player play")},t.pause=function(){e.log("local player pause")},t.stop=function(){e.log("local player stop")},t.load=function(){e.log("local player load")},t.isMediaLoaded=function(){return this.findSources(),null!==this.mediaInfo}.bind(this),t.getCurrentMediaTime=function(){return void 0!==this.player_?this.player_.currentTime():void 0!==a.player_?a.player_.currentTime():0},t.getMediaDuration=function(){return void 0!==this.player_?this.player_.duration():void 0!==a.player_?a.player_.duration():0},t.updateDisplay=function(){},t.updateCurrentTimeDisplay=function(){this.currentMediaTime+=1,this.playerHandler.setTimeString(this.currentMediaTime)}.bind(this),t.updateDurationDisplay=function(){this.playerHandler.setTimeString(this.mediaDuration)}.bind(this),t.setTimeString=function(e){this.getMediaTimeString(e)}.bind(this),t.setVolume=function(e){return void 0!==this.player_?this.player_.volume(e):void 0!==a.player_?a.player_.volume(e):void 0},t.mute=function(){return void 0!==this.player_?this.player_.mute(!0):void 0!==a.player_?a.player_.mute(!0):void 0},t.unMute=function(){return void 0!==this.player_?this.player_.mute(!1):void 0!==a.player_?a.player_.mute(!1):void 0},t.isMuted=function(){return void 0!==this.player_?this.player_.mute():void 0!==a.player_?a.player_.mute():void 0},t.seekTo=function(e){return void 0!==this.player_?this.player_.currentTime(e):void 0!==a.player_?a.player_.currentTime(e):void 0},this.playerHandler.setTarget(t),this.playerHandler.setVolume(50),this.currentMediaTime>0&&(this.playerHandler.load(),this.playerHandler.play())},c.prepareMediaForCast=function(e){if(this.mediaInfo=new chrome.cast.media.MediaInfo(this.sources.src,this.sources.type),this.mediaInfo.streamType=chrome.cast.media.StreamType.BUFFERED,this.mediaInfo.metadata=new chrome.cast.media.TvShowMediaMetadata,this.mediaInfo.metadata.title="",this.mediaInfo.metadata.subtitle="",void 0===this.options.metadata&&(this.options.metadata={}),void 0!==this.options.metadata.title&&""!==this.options.metadata.title)this.mediaInfo.metadata.title=this.options.metadata.title;else{var t=document.getElementsByClassName("file-page__video");if(t.length>0)for(var a=0;a<t.length;a++){var i=t[a].getElementsByClassName("card__title");i.length>0&&(this.mediaInfo.metadata.title=i[0].innerText)}}if(void 0!==this.options.metadata.subtitle&&""!==this.options.metadata.subtitle)this.mediaInfo.metadata.subtitle=this.options.metadata.subtitle;else{var r=document.getElementsByClassName("file-page__video");if(r.length>0)for(var n=0;n<r.length;n++){var s=r[n].getElementsByClassName("channel-name");s.length>0&&(this.mediaInfo.metadata.subtitle=s[0].innerText)}}var o=this.player_.poster();if(o){var l=new chrome.cast.Image(o);this.mediaInfo.metadata.images=[{url:l}]}this.mediaInfoMDNS.url=this.sources.src,this.mediaInfoMDNS.cover={},this.mediaInfoMDNS.cover.title=this.mediaInfo.metadata.title,this.mediaInfoMDNS.cover.url=o,e()},c.onMediaLoadedLocally=function(){this.player_.currentTime(this.currentMediaTime),this.playerHandler.prepareToPlay()},c.seekMedia=function(t){null===this.mediaDuration||cast.framework.CastContext.getInstance().getCurrentSession()&&!this.remotePlayer.canSeek?e.log("Error - Not seekable"):(this.playerState!==l&&this.playerState!==d||(this.currentMediaTime=t),this.playerHandler.seekTo(t))},c.getErrorMessage=function(e){switch(e.code){case chrome.cast.ErrorCode.API_NOT_INITIALIZED:return"The API is not initialized."+(e.description?" :"+e.description:"");case chrome.cast.ErrorCode.CANCEL:return"The operation was canceled by the user"+(e.description?" :"+e.description:"");case chrome.cast.ErrorCode.CHANNEL_ERROR:return"A channel to the receiver is not available."+(e.description?" :"+e.description:"");case chrome.cast.ErrorCode.EXTENSION_MISSING:return"The Cast extension is not available."+(e.description?" :"+e.description:"");case chrome.cast.ErrorCode.INVALID_PARAMETER:return"The parameters to the operation were not valid."+(e.description?" :"+e.description:"");case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:return"No receiver was compatible with the session request."+(e.description?" :"+e.description:"");case chrome.cast.ErrorCode.SESSION_ERROR:return"A session could not be created, or a session was invalid."+(e.description?" :"+e.description:"");case chrome.cast.ErrorCode.TIMEOUT:return"The operation timed out."+(e.description?" :"+e.description:"");default:return e}},c.endPlayback=function(){this.currentMediaTime=0,this.playerState=n,this.this.updateDisplay()},c.getMediaTimeString=function(e){if(null==e)return null;var t=!1;e<0&&(t=!0,e*=-1);var a=Math.floor(e/3600),i=Math.floor((e-3600*a)/60),r=Math.floor(e-3600*a-60*i);return a<10&&(a="0"+a),i<10&&(i="0"+i),r<10&&(r="0"+r),(t?"-":"")+a+":"+i+":"+r},c.incrementMediaTime=function(){this.currentMediaTime=this.playerHandler.getCurrentMediaTime(),this.mediaDuration=this.playerHandler.getMediaDuration(),this.playerHandler.updateDurationDisplay(),null===this.mediaDuration||this.currentMediaTime<this.mediaDuration?this.playerHandler.updateCurrentTimeDisplay():this.mediaDuration>0&&this.endPlayback()},r}(r);c.prototype.controlText_="Chromecast",i.prototype.options_.children.splice(i.prototype.options_.children.length-1,0,"chromeCastButton"),void 0===e.getComponent("ChromecastButton")&&e.registerComponent("ChromecastButton",c);var h=function(e){function a(t,a){var i;i=e.call(this,t,a)||this;var r=new c(t,a);return window.__onGCastApiAvailable=function(e){e&&r.initCastPlayer(t,a)},void 0!==a.mdns&&a.mdns&&window.__onGCastApiAvailable(!0),i}return t(a,e),a}(e.getComponent("Component"));h.prototype.options_={},e.options.children.push("chromecast"),e.addLanguage("en",{"CASTING TO":"CASTING TO"}),void 0===e.getComponent("Chromecast")&&e.registerComponent("Chromecast",h);var u=function(e){var t=this;if(!(!1===e||e&&!1===e.enabled)){if(["appId","altSource","metadata","searchAttempts","timePerAttempt","onStop","onError"].forEach((function(a){void 0===t.options_.chromecast&&(t.options_.chromecast=[]),void 0===t.options_.chromecast[a]?e[a]="":e[a]=t.options_.chromecast[a]})),null!=e.videojs){var a=e.videojs;require("../src/js/tech/chromecast-tech")(a),new h(t,e)}}},p=e.registerPlugin||e.plugin;return void 0===e.getPlugin("chromecast")&&p("chromecast",u),u.VERSION="0.0.9",u}));
